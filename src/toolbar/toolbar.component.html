<ng-content></ng-content>

<button [class.hidden]="!_show" type="button" class="btn btn-default btn-xs" gw-popover #popover="gw-popover" [template]="tpl">
    <span class="glyphicon glyphicon-plus"></span>
</button>

<ng-template #tpl>
    <div class="popover-container">
        <div class="popover-main">
            <div class="input"><input type="text" [(ngModel)]="_filter" name="value" placeholder="过滤..."></div>
            <ul>
                <li *ngFor="let item of (data | gwSelectFilter:_filter)">
                    <label>
                        <input type="checkbox" [(ngModel)]="item.__checked__" name="checkbox">
                        <span>{{item.label}}</span>
                    </label>
                </li>
            </ul>
        </div>
        <div class="popover-hr"></div>
        <div class="popover-footer">
            <div class="left">
                <a class="btn btn-xs" (click)="clear()">清除</a>
            </div>
            <div class="right">
                <button class="btn btn-primary btn-xs" (click)="popover.hide();save()">保存</button>
                <button class="btn btn-default btn-xs" (click)="popover.hide();cancel()">取消</button>
            </div>
        </div>
    </div>
</ng-template>